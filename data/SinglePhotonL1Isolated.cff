 include "RecoEgamma/EgammaHLTProducers/data/l1IsoRecoEcalCandidate.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1IsoPhotonEcalIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1IsolatedPhotonHcalIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1IsoEgammaRegionalRecoTracker.cff"	
 include "RecoEgamma/EgammaHLTProducers/data/l1IsoPhotonTrackIsol.cff"


## include "RecoEgamma/EgammaHLTProducers/data/hltSinglePhotonEcalIsol.cfi"
## include "RecoEgamma/EgammaHLTProducers/data/hltSinglePhotonHcalIsol.cfi"
## include "RecoEgamma/EgammaHLTProducers/data/hltSinglePhotonTrackIsol.cfi"

## include "HLTrigger/Egamma/data/hltSinglePhotonEtFilter.cfi"
 include "HLTrigger/Egamma/data/hltSinglePhotonEcalIsolFilter.cfi"
## include "HLTrigger/Egamma/data/hltSinglePhotonHcalIsolFilter.cfi"
## include "HLTrigger/Egamma/data/hltSinglePhotonTrackIsolFilter.cfi"

#--------------------------------------------------------------------#
# L1 MATCH
#--------------------------------------------------------------------#
include "HLTrigger/Egamma/data/hltEgammaL1MatchFilter.cfi"
module hltL1IsoSinglePhotonL1MatchFilter = hltEgammaL1MatchFilter from "HLTrigger/Egamma/data/hltEgammaL1MatchFilter.cfi" 

     replace hltL1IsoSinglePhotonL1MatchFilter.candTag = l1IsoRecoEcalCandidate
 #     InputTag l1Tag = l1extraParticles:Isolated
 #     int32  ncandcut = 1
#
#      double region_eta_size      = 0.522
#      double region_eta_size_ecap = 0.87
#      double region_phi_size      = 1.044
#      double barrel_end           = 1.4791
#      double endcap_end           = 2.5

#--------------------------------------------------------------------#
# ET CUT
#--------------------------------------------------------------------#
include "HLTrigger/Egamma/data/hltEgammaEtFilter.cfi"
module hltL1IsoSinglePhotonEtFilter = hltEgammaEtFilter from "HLTrigger/Egamma/data/hltEgammaEtFilter.cfi"

 replace hltL1IsoSinglePhotonEtFilter.inputTag = hltL1IsoSinglePhotonL1MatchFilter
 replace hltL1IsoSinglePhotonEtFilter.etcut = 80.0
#      int32  ncandcut = 1

#--------------------------------------------------------------------#
# ECAL ISOL
#--------------------------------------------------------------------#
include "HLTrigger/Egamma/data/hltPhotonEcalIsolFilter.cfi"
module hltL1IsoSinglePhotonEcalIsolFilter = hltPhotonEcalIsolFilter from "HLTrigger/Egamma/data/hltPhotonEcalIsolFilter.cfi" 

replace hltL1IsoSinglePhotonEcalIsolFilter.candTag = hltL1IsoSinglePhotonEtFilter
replace hltL1IsoSinglePhotonEcalIsolFilter.isoTag  = l1IsolatedPhotonEcalIsol
#double ecalisolcut = 1.5
#int32 ncandcut = 1

#--------------------------------------------------------------------#
# HCAL ISOL
#--------------------------------------------------------------------#
include "HLTrigger/Egamma/data/hltEgammaHcalIsolFilter.cfi"
module hltL1IsoSinglePhotonHcalIsolFilter = hltEgammaHcalIsolFilter from "HLTrigger/Egamma/data/hltEgammaHcalIsolFilter.cfi"

 replace hltL1IsoSinglePhotonHcalIsolFilter.candTag = hltL1IsoSinglePhotonEtFilter
 replace hltL1IsoSinglePhotonHcalIsolFilter.isoTag = l1IsolatedPhotonHcalIsol
 replace hltL1IsoSinglePhotonHcalIsolFilter.hcalisolbarrelcut = 6.
 replace hltL1IsoSinglePhotonHcalIsolFilter.hcalisolendcapcut = 4.
#      int32 ncandcut = 1


#--------------------------------------------------------------------#
# TRACK ISOL
#--------------------------------------------------------------------#
 include "HLTrigger/Egamma/data/hltPhotonTrackIsolFilter.cfi"
 module hltL1IsoSinglePhotonTrackIsolFilter = hltPhotonTrackIsolFilter from "HLTrigger/Egamma/data/hltPhotonTrackIsolFilter.cfi"

replace  hltL1IsoSinglePhotonTrackIsolFilter.candTag  = hltL1IsoSinglePhotonHcalIsolFilter
replace  hltL1IsoSinglePhotonTrackIsolFilter.isoTag   = l1IsoPhotonTrackIsol
#      double numtrackisolcut = 1
#      int32 ncandcut = 1


#--------------------------------------------------------------------#
#--------------------------------------------------------------------#

  module singlePhotonL1IsoPresc = HLTPrescaler {
         bool   makeFilterObject = true
         uint32 prescaleFactor = 1
         uint32 eventOffset    = 0
  }



  sequence singlePhotonL1Isolated = {#doL1T &
                           l1seedSingle & 
		           ecalLocalRecoSequence &
                           l1IsolatedEcalClusters  &
                           l1IsoRecoEcalCandidate &
                           hltL1IsoSinglePhotonL1MatchFilter &
                           hltL1IsoSinglePhotonEtFilter & 
	                   l1IsolatedPhotonEcalIsol & hltL1IsoSinglePhotonEcalIsolFilter &
                           hcalLocalRecoSequence &
                           l1IsolatedPhotonHcalIsol & hltL1IsoSinglePhotonHcalIsolFilter &
                           trackerlocalreco &
                           l1IsoEgammaRegionalRecoTracker &
                           l1IsoPhotonTrackIsol & hltL1IsoSinglePhotonTrackIsolFilter &
                           singlePhotonL1IsoPresc
	                  }
